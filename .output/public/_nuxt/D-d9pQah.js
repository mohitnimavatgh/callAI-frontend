import{J as e,K as n}from"./-26k3Kfm.js";import{K as o,L as r,M as i,N as c}from"./DYk6i2Lg.js";const l=e("adminAuth",{state:()=>({adminInfo:null,authenticated:!1,role:""}),actions:{async login(t){try{const a=await o(t),s=a.data;return a.success&&this.adminInfoAction(s),s}catch(a){throw a}},async adminInfoAction(t){this.adminInfo=t,this.authenticated=!0,this.role=this.adminInfo.role_name,localStorage.setItem("access_token",this.adminInfo.access_token),localStorage.setItem("admin_isAuthenticated",!0)},async changePassword(t){return await r(t)},async logout(){try{const t=await i(),a=t.data;return t.success&&(this.adminInfo=null,this.authenticated=!1,this.role="",localStorage.clear()),a}catch(t){throw t}},async updateProfile(t){try{const a=await c(t),s=a.data;return a.success&&(this.adminInfo=s),s}catch(a){throw a}}},persist:{storage:n.localStorage}});export{l as a};
