import{_ as W}from"./DuJwqhlO.js";import{_ as J}from"./Dl47B6FV.js";import{_ as K}from"./lPBNpYtl.js";import{n as Q,r as k,v as D,z as Y,M as Z,B as X,h as ee,o as l,c as r,a,u as s,H as te,I as M,F as E,E as j,b as _,w as H,d as N,t as P,G as g,x as ae}from"./-26k3Kfm.js";import{u as oe}from"./Dkzkeb-w.js";import{a as se}from"./D-d9pQah.js";const le={class:"flex items-center justify-between mx-auto px-8 py-5 md:py-1.5"},re={class:"flex items-center"},ne={class:"hidden w-full md:flex md:w-auto ml-10"},ie={key:0,class:"flex flex-col font-light p-4 md:p-0 mt-4 border border-gray-100 rounded-lg md:space-x-8 rtl:space-x-reverse md:flex-row md:mt-0 md:border-0 dark:bg-gray-800 md:dark:bg-gray-900 dark:border-gray-700"},de={key:0,class:"absolute -bottom-1 left-1/2 transform -translate-x-1/2 w-1/2"},ce={class:"hidden md:flex items-center"},ue=a("div",{class:"absolute inline-flex items-center justify-center w-2.5 h-2.5 text-xs font-bold text-white bg-primary-500 border-2 border-white rounded-full top-0 end-0.5 dark:border-gray-900"},null,-1),me={key:0,id:"theme-toggle-dark-icon",class:"w-5 h-5",fill:"currentColor",viewBox:"0 0 20 20",xmlns:"http://www.w3.org/2000/svg"},ge=a("path",{d:"M17.293 13.293A8 8 0 016.707 2.707a8.001 8.001 0 1010.586 10.586z"},null,-1),he=[ge],pe={key:1,id:"theme-toggle-light-icon",class:"w-5 h-5",fill:"currentColor",viewBox:"0 0 20 20",xmlns:"http://www.w3.org/2000/svg"},fe=a("path",{d:"M10 2a1 1 0 011 1v1a1 1 0 11-2 0V3a1 1 0 011-1zm4 8a4 4 0 11-8 0 4 4 0 018 0zm-.464 4.95l.707.707a1 1 0 001.414-1.414l-.707-.707a1 1 0 00-1.414 1.414zm2.12-10.607a1 1 0 010 1.414l-.706.707a1 1 0 11-1.414-1.414l.707-.707a1 1 0 011.414 0zM17 11a1 1 0 100-2h-1a1 1 0 100 2h1zm-7 4a1 1 0 011 1v1a1 1 0 11-2 0v-1a1 1 0 011-1zM5.05 6.464A1 1 0 106.465 5.05l-.708-.707a1 1 0 00-1.414 1.414l.707.707zm1.414 8.486l-.707.707a1 1 0 01-1.414-1.414l.707-.707a1 1 0 011.414 1.414zM4 11a1 1 0 100-2H3a1 1 0 000 2h1z","fill-rule":"evenodd","clip-rule":"evenodd"},null,-1),ye=[fe],be={class:"block md:hidden"},ve=a("i",{class:"fa fa-bars text-2xl dark:text-white"},null,-1),xe=[ve],ke={class:"flex items-center justify-between"},_e={class:"flex items-center"},we=a("i",{class:"fa-regular fa-bell text-gray-400 text-xl"},null,-1),Ce=a("div",{class:"absolute inline-flex items-center justify-center w-2.5 h-2.5 text-xs font-bold text-white bg-primary-500 border-2 border-white rounded-full top-0 end-0.5 dark:border-gray-900"},null,-1),ze=[we,Ce],Me={key:0,id:"theme-toggle-dark-icon",class:"w-5 h-5",fill:"currentColor",viewBox:"0 0 20 20",xmlns:"http://www.w3.org/2000/svg"},Ae=a("path",{d:"M17.293 13.293A8 8 0 016.707 2.707a8.001 8.001 0 1010.586 10.586z"},null,-1),Se=[Ae],Te={key:1,id:"theme-toggle-light-icon",class:"w-5 h-5",fill:"currentColor",viewBox:"0 0 20 20",xmlns:"http://www.w3.org/2000/svg"},Be=a("path",{d:"M10 2a1 1 0 011 1v1a1 1 0 11-2 0V3a1 1 0 011-1zm4 8a4 4 0 11-8 0 4 4 0 018 0zm-.464 4.95l.707.707a1 1 0 001.414-1.414l-.707-.707a1 1 0 00-1.414 1.414zm2.12-10.607a1 1 0 010 1.414l-.706.707a1 1 0 11-1.414-1.414l.707-.707a1 1 0 011.414 0zM17 11a1 1 0 100-2h-1a1 1 0 100 2h1zm-7 4a1 1 0 011 1v1a1 1 0 11-2 0v-1a1 1 0 011-1zM5.05 6.464A1 1 0 106.465 5.05l-.708-.707a1 1 0 00-1.414 1.414l.707.707zm1.414 8.486l-.707.707a1 1 0 01-1.414-1.414l.707-.707a1 1 0 011.414 1.414zM4 11a1 1 0 100-2H3a1 1 0 000 2h1z","fill-rule":"evenodd","clip-rule":"evenodd"},null,-1),Ie=[Be],Ve=a("i",{class:"fa fa-xmark text-2xl dark:text-white"},null,-1),Le=[Ve],$e={class:"font-light py-4 mt-4 border-t border-primary-500 rtl:space-x-reverse dark:bg-gray-900 dark:border-gray-700"},De=["onClick"],Fe=Q({__name:"AppTopbar",setup(Ee){const d=oe(),R=se(),{$toast:h}=ae(),q=k([{url:"/profile",name:"Profile"},{url:"/change-password",name:"Change Password"},{url:"",name:"Sign out"}]),A=D(()=>q.value.filter(e=>{var t;return!(((t=d==null?void 0:d.userInfo)==null?void 0:t.social_type)!=null&&e.url==="/change-password")})),c=k(!0),w=k([{label:"Dashboard",active:!1,link:"/"},{label:"Call-ai",active:!1,link:"/call-ai"},{label:"Calls",active:!1,link:"/call-ai/calls"},{label:"Settings",active:!1,link:"/call-ai/settings"},{label:"Users",active:!1,link:"/call-ai/users"}]),y=Y(),p=Z(),u=k(null),C=e=>{e==="dark"||!localStorage.getItem("color-theme")&&window.matchMedia("(prefers-color-scheme: dark)").matches?document.documentElement.classList.add("dark"):document.documentElement.classList.remove("dark")};X(()=>{B(),u.value=localStorage.getItem("color-theme"),u.value?C(u.value):(localStorage.setItem("color-theme","light"),C("light"))});const n=D(()=>d.topBarActiveVal),S=e=>{d.handleChangeActiveValue(e.label)},i=()=>{u.value=localStorage.getItem("color-theme");const e=u.value==="dark"?"light":"dark";localStorage.setItem("color-theme",e),C(e)},F=e=>{var t,b,m,v,o,f,x,I,V,L,$;if(((t=e==null?void 0:e.response)==null?void 0:t.status)==422){let z=(m=(b=e==null?void 0:e.response)==null?void 0:b.data)==null?void 0:m.data;if(z){let G=Object.keys(z)[0],O=z[G];h.error(O[0],{duration:5e3})}else(o=(v=e==null?void 0:e.response)==null?void 0:v.data)!=null&&o.success?h.error("something went wrong...!",{duration:5e3}):h.error((x=(f=e==null?void 0:e.response)==null?void 0:f.data)==null?void 0:x.message,{duration:5e3})}else(V=(I=e==null?void 0:e.response)==null?void 0:I.data)!=null&&V.success?h.error("something went wrong...!",{duration:5e3}):h.error(($=(L=e==null?void 0:e.response)==null?void 0:L.data)==null?void 0:$.message,{duration:5e3})},T=e=>{if(e.name=="Sign out"){let t=d.role;(t=="Company"?d.logout():R.logout()).then(()=>{h.success("Logout Successfully",{duration:1e4}),t=="Company"?y.push("/login"):y.push("/admin/login")}).catch(m=>{F(m)})}else y.push(`${e.url}`)},U=e=>n.value===e?"font-medium block py-2 px-3 text-white bg-primary-700 rounded md:bg-transparent md:text-primary-700 md:p-0 md:dark:text-primary-500 ":"block py-2 px-3 md:p-0 text-medium-gray rounded hover:bg-gray-100 md:hover:bg-transparent md:hover:text-gray-700 dark:text-white md:dark:hover:text-primary-500 dark:hover:bg-gray-700 dark:hover:text-white md:dark:hover:bg-transparent dark:border-gray-700 font-medium ",B=()=>{const e=y.currentRoute.value.path;w.value.forEach(t=>{t.link==="/call-ai"?t.active=e==="/call-ai":t.active=e.startsWith(t.link)})};return ee(y.currentRoute,B),(e,t)=>{const b=W,m=J,v=K;return l(),r("nav",{class:g([s(p).name.includes("admin")?"bg-primary-500":"bg-primary-50","border-gray-300 dark:bg-gray-900"])},[a("div",le,[a("div",re,[s(p).name.includes("admin")?M("",!0):(l(),te(b,{key:0})),a("div",ne,[s(p).name.includes("admin")?M("",!0):(l(),r("ul",ie,[(l(!0),r(E,null,j(s(w),(o,f)=>(l(),r("li",{key:f,class:"relative"},[_(m,{class:g(["text-sm",s(n)===o.label?"font-medium block py-2 px-3 text-white bg-primary-700 rounded md:bg-transparent md:text-primary-700 md:p-0 md:dark:text-primary-500 ":"block py-2 px-3 md:p-0 text-medium-gray rounded hover:bg-gray-100 md:hover:bg-transparent md:hover:text-gray-700 dark:text-white md:dark:hover:text-primary-500 dark:hover:bg-gray-700 dark:hover:text-white md:dark:hover:bg-transparent dark:border-gray-700 font-medium "]),to:o.link,onClick:x=>S(o)},{default:H(()=>[N(P(o.label),1)]),_:2},1032,["to","onClick","class"]),s(p).name==s(n).toLowerCase()||s(n)=="Calls"||s(n)=="Users"||s(n)=="Settings"||s(n)=="Dashboard"?(l(),r("div",de,[a("div",{class:g([s(n)==o.label?"rounded-full border-b-4 border-primary-500":"","w-full"])},null,2)])):M("",!0)]))),128))]))])]),a("div",ce,[a("button",{onClick:t[0]||(t[0]=(...o)=>i&&i(...o)),type:"button",class:"relative dark:text-gray-400 hover:bg-gray-100 dark:hover:bg-gray-700 focus:outline-none focus:ring-4 focus:ring-gray-200 dark:focus:ring-gray-700 rounded-lg text-sm p-1 mr-2"},[a("i",{class:g(["fa-regular fa-bell text-xl",s(p).name.includes("admin")?"text-white":"text-gray-400"])},null,2),ue]),a("button",{onClick:t[1]||(t[1]=(...o)=>i&&i(...o)),id:"theme-toggle",type:"button",class:g([s(p).name.includes("admin")?"text-white":"text-gray-400","dark:text-gray-400 hover:bg-gray-100 dark:hover:bg-gray-700 focus:outline-none focus:ring-4 focus:ring-gray-200 dark:focus:ring-gray-700 rounded-lg text-sm p-1 mr-2"])},[s(u)=="light"?(l(),r("svg",me,he)):(l(),r("svg",pe,ye))],2),_(v,{image:"https://media.licdn.com/dms/image/C5103AQFl656k2-DwOg/profile-displayphoto-shrink_800_800/0/1517034956958?e=2147483647&v=beta&t=6H_aZri3qcbtlgwTyTKBceuyTEPYW43xGViq5UL4J-w",buttonText:"Action",actions:s(A),onSelect:T},null,8,["actions","onSelect"])]),a("div",be,[a("button",{onClick:t[2]||(t[2]=o=>c.value=!s(c))},xe)]),a("div",{class:g([s(c)?"-top-full":"top-0","block fixed z-20 transition-all bg-primary-100 ease-in-out dark:bg-gray-900 left-0 pt-2 px-4 w-full duration-500 md:hidden rounded-b-lg"])},[a("div",ke,[a("div",_e,[_(v,{image:"https://media.licdn.com/dms/image/C5103AQFl656k2-DwOg/profile-displayphoto-shrink_800_800/0/1517034956958?e=2147483647&v=beta&t=6H_aZri3qcbtlgwTyTKBceuyTEPYW43xGViq5UL4J-w",buttonText:"Action",actions:s(A),onSelect:T},null,8,["actions","onSelect"]),a("button",{onClick:t[3]||(t[3]=(...o)=>i&&i(...o)),type:"button",class:"relative text-gray-500 ml-3 dark:text-gray-400 hover:bg-gray-100 dark:hover:bg-gray-700 focus:outline-none focus:ring-4 focus:ring-gray-200 dark:focus:ring-gray-700 rounded-lg text-sm p-1 mr-2"},ze),a("button",{onClick:t[4]||(t[4]=(...o)=>i&&i(...o)),id:"theme-toggle",type:"button",class:"text-gray-500 dark:text-gray-400 hover:bg-gray-100 dark:hover:bg-gray-700 focus:outline-none focus:ring-4 focus:ring-gray-200 dark:focus:ring-gray-700 rounded-lg text-sm p-1 mr-2"},[s(u)=="light"?(l(),r("svg",Me,Se)):(l(),r("svg",Te,Ie))])]),a("button",{onClick:t[5]||(t[5]=o=>c.value=!s(c))},Le)]),a("ul",$e,[(l(!0),r(E,null,j(s(w),(o,f)=>(l(),r("li",{class:"py-1",key:f,onClick:x=>S(o)},[_(m,{onClick:t[6]||(t[6]=x=>c.value=!s(c)),class:g(["text-sm",U(o.active)]),to:o.link},{default:H(()=>[N(P(o.label),1)]),_:2},1032,["to","class"])],8,De))),128))])],2)])],2)}}});export{Fe as _};
