import{_ as R}from"./DX7fHSrm.js";import{_ as B}from"./r7gvbwgk.js";import{n as E,s as P,r as j,o as A,c as C,a as m,b as u,u as t,x as T}from"./-26k3Kfm.js";import{a as F}from"./D-d9pQah.js";import{c as w,r as D,u as O}from"./Dw3NAe37.js";import"./DYk6i2Lg.js";const z={class:"mt-5"},G=m("div",null,[m("h4",{class:"text-gray-700 text-3xl"},"Profile")],-1),H={class:"p-5 mt-6 lg:w-1/2 w-full dark:bg-gray-800 rounded-lg"},J={class:""},K={class:"mt-5"},L={class:"mt-5"},Q={class:"mt-5"},W={class:"mt-4 flex justify-end"},le=E({__name:"profile",setup(X){var p,f,_,b,v;const o=F();P();const{$toast:d}=T(),n=j({id:(p=o==null?void 0:o.adminInfo)==null?void 0:p.id,name:(f=o==null?void 0:o.adminInfo)==null?void 0:f.name,mobile_no:(_=o==null?void 0:o.adminInfo)==null?void 0:_.mobile_no,email:(b=o==null?void 0:o.adminInfo)==null?void 0:b.email,role:(v=o==null?void 0:o.adminInfo)==null?void 0:v.role_name}),I={formData:{name:{required:w.withMessage("The Name is required",D)},mobile_no:{required:w.withMessage("The Mobile No is required",D)}}},i=O(I,{formData:n}),k=async()=>{if(await i.value.$validate()){let s={id:n.value.id,name:n.value.name,mobile_no:n.value.mobile_no};o.updateProfile(s).then(a=>{d.success("Updated Profile successfully",{duration:5e3})}).catch(a=>{M(a)})}},M=e=>{var s,a,r,l,V,h,x,g,y,N,$;if(((s=e==null?void 0:e.response)==null?void 0:s.status)==422){let c=(r=(a=e==null?void 0:e.response)==null?void 0:a.data)==null?void 0:r.data;if(c){let U=Object.keys(c)[0],q=c[U];d.error(q[0],{duration:5e3})}else(V=(l=e==null?void 0:e.response)==null?void 0:l.data)!=null&&V.success?d.error("Something went wrong...!",{duration:5e3}):d.error((x=(h=e==null?void 0:e.response)==null?void 0:h.data)==null?void 0:x.message,{duration:5e3})}else(y=(g=e==null?void 0:e.response)==null?void 0:g.data)!=null&&y.success?d.error("Something went wrong...!",{duration:5e3}):d.error(($=(N=e==null?void 0:e.response)==null?void 0:N.data)==null?void 0:$.message,{duration:5e3})};return(e,s)=>{const a=R,r=B;return A(),C("div",z,[G,m("div",H,[m("div",J,[u(a,{id:"name",class:"mt-3",modelValue:t(i).formData.name.$model,"onUpdate:modelValue":s[0]||(s[0]=l=>t(i).formData.name.$model=l),errors:t(i).formData.name.$errors,label:"Name",name:"Name",type:"text",placeholder:"Name"},null,8,["modelValue","errors"])]),m("div",K,[u(a,{id:"mobile_no",class:"mt-3",modelValue:t(i).formData.mobile_no.$model,"onUpdate:modelValue":s[1]||(s[1]=l=>t(i).formData.mobile_no.$model=l),errors:t(i).formData.mobile_no.$errors,label:"Mobile No",name:"Mobile No",type:"text",placeholder:"Mobile No"},null,8,["modelValue","errors"])]),m("div",L,[u(a,{id:"email",class:"mt-3",modelValue:t(n).email,"onUpdate:modelValue":s[2]||(s[2]=l=>t(n).email=l),label:"Email",name:"Email",type:"text",placeholder:"Email",disabled:!0},null,8,["modelValue"])]),m("div",Q,[u(a,{id:"role",class:"mt-3",modelValue:t(n).role,"onUpdate:modelValue":s[3]||(s[3]=l=>t(n).role=l),label:"Role",name:"role",type:"text",placeholder:"Role",disabled:!0},null,8,["modelValue"])]),m("div",W,[u(r,{class:"mt-6",text:"Update",frontIcon:"",onClick:s[4]||(s[4]=l=>k())})])])])}}});export{le as default};
