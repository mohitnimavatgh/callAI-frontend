import{J as r,K as a}from"./-26k3Kfm.js";import{O as o,P as n,Q as c,R as i,S as u,T as p,U as h,V as l}from"./DYk6i2Lg.js";const w=r("auth",{state:()=>({userInfo:null,authenticated:!1,role:"",topBarActiveVal:""}),actions:{async login(e){try{const s=await o(e),t=s.data;return s.success&&this.userInfoAction(t),t}catch(s){throw s}},async userInfoAction(e){var s;this.userInfo=e,this.authenticated=!0,this.role=(s=this.userInfo)==null?void 0:s.role_name,localStorage.setItem("access_token",this.userInfo.access_token),localStorage.setItem("isAuthenticated",!0)},async signup(e){try{const s=await n(e),t=s.data;return s.success&&t.social_type&&this.userInfoAction(t),t}catch(s){throw s}},async resetSendLink(e){try{return await c(e)}catch(s){throw s}},async forgotPassword(e){try{return await i(e)}catch(s){throw s}},async changePassword(e){return await u(e)},async updateProfile(e){try{const s=await p(e),t=s.data;return s.success&&(console.log("reponse--",t),this.userInfo=t),t}catch(s){throw s}},async emailVarification(e){try{return await h(e)}catch(s){throw s}},async logout(){try{const e=await l(),s=e.data;return e.success&&(this.userInfo=null,this.authenticated=!1,this.role="",localStorage.clear()),s}catch(e){throw e}},handleChangeActiveValue(e){this.topBarActiveVal=e}},persist:{storage:a.localStorage}});export{w as u};
