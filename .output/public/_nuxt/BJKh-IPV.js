import{_ as S}from"./DuJwqhlO.js";import{_ as A}from"./DX7fHSrm.js";import{_ as B}from"./r7gvbwgk.js";import{n as L,r as N,o as R,c as j,a as o,b as m,u as r,x as q}from"./-26k3Kfm.js";import C from"./BY7vU7ge.js";import{u as P}from"./Dkzkeb-w.js";import{c as v,r as D,e as F,u as I}from"./Dw3NAe37.js";import"./Dl47B6FV.js";import"./DYk6i2Lg.js";const M={class:"flex flex-col h-full pt-20 flowbit-lg:pt-0"},O={class:"dark:bg-gray-900 self-center h-full w-full md:w-1/2 lg:w-1/3 xl:w-1/4 p-8"},T=o("h3",{class:"text-md font-semibold text-gray-600 mb-4 mt-6 text-center"},"Reset your Password",-1),U=o("span",{class:"text-sm text-gray-500 mt-3 px-4 md:px-4 flex justify-center text-center"},"No worries, we will mail you a like to your recovery email address to reset your password.",-1),z={class:"mt-6"},G=o("span",{class:"text-xs text-gray-500 mt-5 flex"},"Did not receive code? Send again",-1),H={class:"h-fit"},oe=L({__name:"reset-password",setup(J){var p;const y=P(),{$toast:t}=q(),a=N({email:null,redirect_url:((p=window==null?void 0:window.location)==null?void 0:p.origin)+"/update-password"}),k={reset:{email:{required:v.withMessage("The Email field is required",D),email:v.withMessage("Please Enter a valid Email Address",F)}}},n=I(k,{reset:a}),$=async()=>{console.log(a.value,"reset.value"),await n.value.$validate()&&y.resetSendLink(a.value).then(s=>{s!=null&&s.success?(a.value.email=null,a.value.redirect_url="",n.value.$reset(),t.success("Reset Password Send Link Successfully",{duration:1e4})):t.error("something went wrong...!",{duration:5e3})}).catch(s=>{b(s)})},b=e=>{var s,i,c,d,l,_,f,w,x,g,h;if(((s=e==null?void 0:e.response)==null?void 0:s.status)==422){let u=(c=(i=e==null?void 0:e.response)==null?void 0:i.data)==null?void 0:c.data;if(u){let E=Object.keys(u)[0],V=u[E];t.error(V[0],{duration:5e3})}else(l=(d=e==null?void 0:e.response)==null?void 0:d.data)!=null&&l.success?t.error("something went wrong...!",{duration:5e3}):t.error((f=(_=e==null?void 0:e.response)==null?void 0:_.data)==null?void 0:f.message,{duration:5e3})}else(x=(w=e==null?void 0:e.response)==null?void 0:w.data)!=null&&x.success?t.error("something went wrong...!",{duration:5e3}):t.error((h=(g=e==null?void 0:e.response)==null?void 0:g.data)==null?void 0:h.message,{duration:5e3})};return(e,s)=>{const i=S,c=A,d=B;return R(),j("div",M,[o("section",O,[m(i,{class:"justify-center mb-6"}),T,U,o("div",z,[m(c,{id:"Email",label:"Email",name:"Email",modelValue:r(n).reset.email.$model,"onUpdate:modelValue":s[0]||(s[0]=l=>r(n).reset.email.$model=l),errors:r(n).reset.email.$errors,type:"text",placeholder:"Recovery email ID"},null,8,["modelValue","errors"]),m(d,{text:"Send Code",class:"mt-3",onClick:s[1]||(s[1]=l=>$())}),G])]),o("div",H,[m(r(C))])])}}});export{oe as default};
